<!DOCTYPE html>
<html xmlns:th="http://www/thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<script th:src="@{js/jquery-3.4.1.min.js}" type="text/javascript"></script>


<script type="text/javascript">

$(function(){
	$('#province').change(function(){
		var pr_name=$('#province').val();
		//alert(pr_name);
		$('#city').html('<option value="">---请选择城市---</option>');
		$.ajax({
			//访问控制器，参数省份名称
			url:"/findcity?pr_name="+pr_name,
			type:"GET",
			dataType:"json",
		success:function(data){
	
			if(data!=null){
				//each()循环 
				$(data).each(function(index){
					//append 给 html追加内容
					$('#city').append(
							'<option value="'+data[index].ci_name+'">'
							+data[index].ci_name+'</option>'
							); }); } }});});
	$('#city').change(function(){
		var ci_name=$('#city option:selected').val();
	//	alert(ci_name);
		$('#county').html('<option value="">---请选择区县---</option>');
	$.ajax({
		url : "/findcounty?ci_name="+ci_name,
		type : "GET", 
		dataType : "json",
		success : function(data){
			if(data!=null){
				 $(data).each(function(index){
				$('#county').append(
                        '<option value="'+data[index].co_name+'">'+data[index].co_name+'</option>' );
				  });
			  }
		   }
	   });

     });
	
  })();
 

</script>
</head>
<body>
       省<select id="province" onchange="">
    <option value="">---请选择省份---</option>
    <option th:each="pr:${province}" 
     th:value="${pr.pr_name}" th:text="${pr.pr_name}"></option>
       </select>
       市<select id="city" onchange="">
     <option value="">---请选择城市---</option>
        </select>
        区<select id="county" >
    <option value="">---请选择区县---</option>
        </select>
</body>
</html>